// ğŸŒŸ Ø¹Ø±Ø¶ Ù…Ø¨Ù‡Ø± Ù„Ù…ÙŠØ²Ø§Øª Ù„ØºØ© Ø§Ù„Ø¨ÙŠØ§Ù†
// ğŸŒŸ Impressive Showcase of AlBayan Language Features

// ============================================
// ğŸ“Š Ø§Ù„Ù‡ÙŠØ§ÙƒÙ„ - Data Structures
// ============================================

struct Student {
    id: int;
    score: int;
}

struct Statistics {
    total: int;
    average: int;
    max: int;
}

// ============================================
// ğŸ”§ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© - Helper Functions
// ============================================

fn fibonacci(n: int) -> int {
    if n <= 1 {
        return n;
    } else {
        return fibonacci(n - 1) + fibonacci(n - 2);
    }
}

fn power(base: int, exp: int) -> int {
    let result = 1;
    let i = 0;
    while i < exp {
        result = result * base;
        i = i + 1;
    }
    return result;
}

fn is_prime(n: int) -> int {
    if n < 2 {
        return 0;
    }
    let i = 2;
    while i * i <= n {
        if n % i == 0 {
            return 0;
        }
        i = i + 1;
    }
    return 1;
}

fn gcd(a: int, b: int) -> int {
    while b != 0 {
        let temp = b;
        b = a % b;
        a = temp;
    }
    return a;
}

fn lcm(a: int, b: int) -> int {
    return (a * b) / gcd(a, b);
}

// ============================================
// ğŸ¯ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Main Function
// ============================================

fn main() -> int {
    // ============================================
    // 1ï¸âƒ£ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© - Advanced Calculations
    // ============================================

    let fib_5 = fibonacci(5);
    let fib_10 = fibonacci(10);

    let power_2_10 = power(2, 10);
    let power_3_5 = power(3, 5);

    // ============================================
    // 2ï¸âƒ£ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© - Prime Numbers
    // ============================================

    let is_7_prime = is_prime(7);
    let is_10_prime = is_prime(10);
    let is_13_prime = is_prime(13);

    // ============================================
    // 3ï¸âƒ£ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© - Mathematical Operations
    // ============================================

    let gcd_result = gcd(48, 18);
    let lcm_result = lcm(12, 18);

    // ============================================
    // 4ï¸âƒ£ Ø§Ù„Ù…ØµÙÙˆÙØ§Øª ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª - Arrays & Operations
    // ============================================

    let scores = [85, 90, 78, 92, 88];
    let first_score = scores[0];
    let second_score = scores[1];
    let sum_scores = first_score + second_score;

    // ============================================
    // 5ï¸âƒ£ Ø§Ù„Ù‡ÙŠØ§ÙƒÙ„ ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - Structs & Data
    // ============================================

    let student1 = Student { id: 1, score: 95 };
    let student2 = Student { id: 2, score: 87 };

    let s1_id = student1.id;
    let s1_score = student1.score;
    let s2_score = student2.score;

    // ============================================
    // 6ï¸âƒ£ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ù…Ù†Ø·Ù‚ - Conditionals & Logic
    // ============================================

    let max_score = 0;
    if s1_score > s2_score {
        max_score = s1_score;
    } else {
        max_score = s2_score;
    }

    // ============================================
    // 7ï¸âƒ£ Ø§Ù„Ø­Ù„Ù‚Ø§Øª ÙˆØ§Ù„ØªÙƒØ±Ø§Ø± - Loops & Iteration
    // ============================================

    let sum_all = 0;
    let i = 0;
    while i < 5 {
        sum_all = sum_all + scores[i];
        i = i + 1;
    }

    let average = sum_all / 5;

    // ============================================
    // 8ï¸âƒ£ Ø§Ù„ØªØ·Ø§Ø¨Ù‚ ÙˆØ§Ù„Ø£Ù†Ù…Ø§Ø· - Match & Patterns
    // ============================================

    let grade = 0;
    if average == 90 {
        grade = 1;
    } else {
        if average == 80 {
            grade = 2;
        } else {
            if average == 70 {
                grade = 3;
            } else {
                grade = 0;
            }
        }
    }

    // ============================================
    // 9ï¸âƒ£ Ø§Ù„ØªØ¹Ø¨ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© - Complex Expressions
    // ============================================

    let complex_calc = (power_2_10 + power_3_5) * (gcd_result + lcm_result);
    let nested_expr = ((fib_5 + fib_10) * (is_7_prime + is_13_prime)) / 2;

    // ============================================
    // ğŸ”Ÿ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© - Final Result
    // ============================================

    let final_result = sum_all + average + max_score + grade;

    return final_result;
}
