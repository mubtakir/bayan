// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø³Ø·Ø± Ø§Ù„Ø£ÙˆØ§Ù…Ø±
// CLI Tests
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

use std::agent::types;
use std::agent::core;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

fn test_run_command() {
    println("ğŸ§ª Testing 'run' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "run example.ab");
    assert(response.message.len() > 0, "Run command failed");
    println("âœ… 'run' command works correctly");
}

fn test_compile_command() {
    println("ğŸ§ª Testing 'compile' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "compile code.ab");
    assert(response.message.len() > 0, "Compile command failed");
    println("âœ… 'compile' command works correctly");
}

fn test_analyze_command() {
    println("ğŸ§ª Testing 'analyze' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "analyze fn main() { }");
    assert(response.message.len() > 0, "Analyze command failed");
    println("âœ… 'analyze' command works correctly");
}

fn test_suggest_command() {
    println("ğŸ§ª Testing 'suggest' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "suggest");
    assert(response.message.len() > 0, "Suggest command failed");
    println("âœ… 'suggest' command works correctly");
}

fn test_chat_command() {
    println("ğŸ§ª Testing 'chat' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "chat How do I use the agent?");
    assert(response.message.len() > 0, "Chat command failed");
    println("âœ… 'chat' command works correctly");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø®Ø§ØµØ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

fn test_help_command() {
    println("ğŸ§ª Testing 'help' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "help");
    assert(response.message.contains("help") || response.message.contains("Help"), "Help command failed");
    println("âœ… 'help' command works correctly");
}

fn test_status_command() {
    println("ğŸ§ª Testing 'status' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "status");
    assert(response.message.len() > 0, "Status command failed");
    println("âœ… 'status' command works correctly");
}

fn test_reset_command() {
    println("ğŸ§ª Testing 'reset' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "reset");
    assert(response.message.len() > 0, "Reset command failed");
    println("âœ… 'reset' command works correctly");
}

fn test_lang_command() {
    println("ğŸ§ª Testing 'lang' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "lang ar");
    assert(response.message.len() > 0, "Lang command failed");
    println("âœ… 'lang' command works correctly");
}

fn test_exit_command() {
    println("ğŸ§ª Testing 'exit' command...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "exit");
    assert(response.message.len() > 0, "Exit command failed");
    println("âœ… 'exit' command works correctly");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

fn test_arabic_run_command() {
    println("ğŸ§ª Testing Arabic 'run' command...");
    let mut agent = types::create_agent("ar", false);
    let response = core::process_input(&mut agent, "ØªØ´ØºÙŠÙ„ Ù…Ù„Ù.ab");
    assert(response.message.len() > 0, "Arabic run command failed");
    assert(response.language == "ar", "Response should be in Arabic");
    println("âœ… Arabic 'run' command works correctly");
}

fn test_arabic_compile_command() {
    println("ğŸ§ª Testing Arabic 'compile' command...");
    let mut agent = types::create_agent("ar", false);
    let response = core::process_input(&mut agent, "ØªØ±Ø¬Ù…Ø© ÙƒÙˆØ¯.ab");
    assert(response.message.len() > 0, "Arabic compile command failed");
    assert(response.language == "ar", "Response should be in Arabic");
    println("âœ… Arabic 'compile' command works correctly");
}

fn test_arabic_help_command() {
    println("ğŸ§ª Testing Arabic 'help' command...");
    let mut agent = types::create_agent("ar", false);
    let response = core::process_input(&mut agent, "Ù…Ø³Ø§Ø¹Ø¯Ø©");
    assert(response.message.len() > 0, "Arabic help command failed");
    assert(response.language == "ar", "Response should be in Arabic");
    println("âœ… Arabic 'help' command works correctly");
}

fn test_arabic_status_command() {
    println("ğŸ§ª Testing Arabic 'status' command...");
    let mut agent = types::create_agent("ar", false);
    let response = core::process_input(&mut agent, "Ø§Ù„Ø­Ø§Ù„Ø©");
    assert(response.message.len() > 0, "Arabic status command failed");
    assert(response.language == "ar", "Response should be in Arabic");
    println("âœ… Arabic 'status' command works correctly");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

fn test_invalid_command() {
    println("ğŸ§ª Testing invalid command handling...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "invalid_command");
    assert(response.message.len() > 0, "Invalid command should still return response");
    println("âœ… Invalid command handled correctly");
}

fn test_empty_input() {
    println("ğŸ§ª Testing empty input handling...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "");
    assert(response.message.len() > 0, "Empty input should still return response");
    println("âœ… Empty input handled correctly");
}

fn test_whitespace_input() {
    println("ğŸ§ª Testing whitespace input handling...");
    let mut agent = types::create_agent("en", false);
    let response = core::process_input(&mut agent, "   ");
    assert(response.message.len() > 0, "Whitespace input should still return response");
    println("âœ… Whitespace input handled correctly");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

fn test_language_switching() {
    println("ğŸ§ª Testing language switching...");
    let mut agent = types::create_agent("en", false);
    
    // Start in English
    assert(agent.language == "en", "Should start in English");
    
    // Switch to Arabic
    let response = core::process_input(&mut agent, "lang ar");
    assert(response.message.len() > 0, "Language switch failed");
    
    // Verify language switched
    assert(agent.language == "ar", "Language should be switched to Arabic");
    
    println("âœ… Language switching works correctly");
}

fn test_multilingual_responses() {
    println("ğŸ§ª Testing multilingual responses...");
    
    // English response
    let mut agent_en = types::create_agent("en", false);
    let response_en = core::process_input(&mut agent_en, "help");
    assert(response_en.language == "en", "English response should be in English");
    
    // Arabic response
    let mut agent_ar = types::create_agent("ar", false);
    let response_ar = core::process_input(&mut agent_ar, "Ù…Ø³Ø§Ø¹Ø¯Ø©");
    assert(response_ar.language == "ar", "Arabic response should be in Arabic");
    
    println("âœ… Multilingual responses work correctly");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø§Ù„Ø© ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª CLI
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

fn main() {
    println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    println("â•‘          ğŸ’» Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø³Ø·Ø± Ø§Ù„Ø£ÙˆØ§Ù…Ø± ğŸ’»                   â•‘");
    println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println("");
    
    // Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    println("ğŸ“‹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:");
    test_run_command();
    test_compile_command();
    test_analyze_command();
    test_suggest_command();
    test_chat_command();
    println("");
    
    // Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø®Ø§ØµØ©
    println("ğŸ“‹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø®Ø§ØµØ©:");
    test_help_command();
    test_status_command();
    test_reset_command();
    test_lang_command();
    test_exit_command();
    println("");
    
    // Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ
    println("ğŸ“‹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ:");
    test_arabic_run_command();
    test_arabic_compile_command();
    test_arabic_help_command();
    test_arabic_status_command();
    println("");
    
    // Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
    println("ğŸ“‹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:");
    test_invalid_command();
    test_empty_input();
    test_whitespace_input();
    println("");
    
    // Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
    println("ğŸ“‹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©:");
    test_language_switching();
    test_multilingual_responses();
    println("");
    
    println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    println("â•‘          âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª CLI Ø¨Ù†Ø¬Ø§Ø­! âœ…           â•‘");
    println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
}

