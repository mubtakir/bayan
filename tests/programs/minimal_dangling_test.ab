// tests/programs/minimal_dangling_test.ab
// اختبار أساسي لمنع المراجع المعلقة

/// اختبار: مرجع مباشر إلى متغير محلي (يجب أن يفشل)
fn test_dangling() -> &int {
    let x = 42;
    return &x; // خطأ! x ستُدمَّر عند انتهاء الدالة
}

/// اختبار صحيح: إرجاع قيمة
fn test_valid() -> int {
    let x = 42;
    return x; // صحيح
}

fn main() {
    let result = test_valid();
}
