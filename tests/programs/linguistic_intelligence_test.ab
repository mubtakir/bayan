/// Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù„ØºÙˆÙŠ
/// ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¯Ù„Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø±ÙˆÙ

using std::linguistic_intelligence;

fn test_arabic_letter_analysis() {
    print("=== Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ===");
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
    let initialized = linguistic_intelligence::initialize_linguistic_intelligence();
    if !initialized {
        print("âŒ ÙØ´Ù„ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…");
        return;
    }
    
    // Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù„ÙŠÙ„ ÙƒÙ„Ù…Ø© "Ø´Ø¬Ø±Ø©"
    let word = "Ø´Ø¬Ø±Ø©".to_string();
    let analyzed = linguistic_intelligence::analyze_arabic_word(word.clone());
    
    if analyzed {
        print("âœ… ØªÙ… ØªØ­Ù„ÙŠÙ„ ÙƒÙ„Ù…Ø©: " + word);
        let meaning = linguistic_intelligence::get_word_meaning(word.clone(), "Ø¹Ø±Ø¨ÙŠ".to_string());
        print("Ø§Ù„Ù…Ø¹Ù†Ù‰ Ø§Ù„Ù…Ø³ØªÙ†Ø¨Ø·: " + meaning);
    } else {
        print("âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ù„ÙŠÙ„ ÙƒÙ„Ù…Ø©: " + word);
    }
}

fn test_english_letter_setup() {
    print("=== Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ===");
    
    // Ø¥Ø¶Ø§ÙØ© Ø­Ø±Ù T
    let added_t = linguistic_intelligence::add_english_letter(
        'T',
        "Ø§Ù„Ù‡ÙŠÙƒÙ„ ÙˆØ§Ù„Ø¯Ø¹Ù…".to_string(),
        "Ø®Ø· Ø¹Ù…ÙˆØ¯ÙŠ Ù…Ø¹ Ø®Ø· Ø£ÙÙ‚ÙŠ".to_string(),
        0.8
    );
    
    if added_t {
        print("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø­Ø±Ù T Ø¨Ù†Ø¬Ø§Ø­");
    } else {
        print("âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø­Ø±Ù T");
    }
    
    // Ø¥Ø¶Ø§ÙØ© Ø­Ø±Ù R
    let added_r = linguistic_intelligence::add_english_letter(
        'R',
        "Ø§Ù„ØªÙØ±Ø¹ ÙˆØ§Ù„Ø§Ù†Ø­Ù†Ø§Ø¡".to_string(),
        "Ø®Ø· Ù…Ù†Ø­Ù†ÙŠ ÙŠÙˆØ­ÙŠ Ø¨Ø§Ù„ØªÙØ±Ø¹".to_string(),
        0.85
    );
    
    if added_r {
        print("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø­Ø±Ù R Ø¨Ù†Ø¬Ø§Ø­");
    } else {
        print("âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø­Ø±Ù R");
    }
}

fn test_comprehensive_analysis() {
    print("=== Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ ===");
    
    // ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„ÙƒÙ„Ù…Ø© Ø¹Ø±Ø¨ÙŠØ©
    let arabic_word = "Ø¬Ø¨Ù„".to_string();
    let arabic_pattern = linguistic_intelligence::comprehensive_arabic_analysis(arabic_word);
    
    print("Ø§Ù„ÙƒÙ„Ù…Ø©: " + arabic_pattern.word);
    print("Ø§Ù„Ù…Ø¹Ù†Ù‰ Ø§Ù„Ù…Ø³ØªÙ†Ø¨Ø·: " + arabic_pattern.inferred_meaning);
    print("Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø©: " + arabic_pattern.confidence.to_string());
    print("Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ: " + arabic_pattern.detailed_analysis);
}

fn test_pattern_discovery() {
    print("=== Ø§Ø®ØªØ¨Ø§Ø± Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ù†Ù…Ø§Ø· ===");
    
    // Ù‚Ø§Ø¦Ù…Ø© ÙƒÙ„Ù…Ø§Øª Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
    let test_words = vec![
        "Ø´Ù…Ø³".to_string(),
        "Ù‚Ù…Ø±".to_string(),
        "Ù†Ø¬Ù…".to_string(),
        "Ø¨Ø­Ø±".to_string(),
    ];
    
    let patterns = linguistic_intelligence::discover_word_patterns(test_words, "Ø¹Ø±Ø¨ÙŠ".to_string());
    
    print("Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ÙƒØªØ´ÙØ©: " + patterns.len().to_string());
    
    for pattern in patterns {
        print("ÙƒÙ„Ù…Ø©: " + pattern.word + " | Ù…Ø¹Ù†Ù‰: " + pattern.inferred_meaning);
    }
}

fn test_adaptive_learning() {
    print("=== Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙƒÙŠÙÙŠ ===");
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù†Ù…Ø§Ø· ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
    let mut test_patterns = vec![];
    
    test_patterns.push(linguistic_intelligence::WordPattern {
        word: "Ø§Ø®ØªØ¨Ø§Ø±1".to_string(),
        inferred_meaning: "Ù…Ø¹Ù†Ù‰ Ø§Ø®ØªØ¨Ø§Ø±".to_string(),
        confidence: 0.9,
        detailed_analysis: "ØªØ­Ù„ÙŠÙ„ ØªÙØµÙŠÙ„ÙŠ".to_string(),
    });
    
    test_patterns.push(linguistic_intelligence::WordPattern {
        word: "Ø§Ø®ØªØ¨Ø§Ø±2".to_string(),
        inferred_meaning: "Ù…Ø¹Ù†Ù‰ Ø¢Ø®Ø±".to_string(),
        confidence: 0.6,
        detailed_analysis: "ØªØ­Ù„ÙŠÙ„ Ø¢Ø®Ø±".to_string(),
    });
    
    let stats = linguistic_intelligence::adaptive_learning_from_patterns(test_patterns);
    
    print("Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ¹Ù„Ù…:");
    print("Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: " + stats.words_analyzed.to_string());
    print("Ø¯Ù‚Ø© Ø§Ù„ØªÙ†Ø¨Ø¤: " + stats.prediction_accuracy.to_string());
}

fn test_tree_example() {
    print("=== Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø«Ø§Ù„ ÙƒÙ„Ù…Ø© Tree ===");
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    linguistic_intelligence::setup_basic_english_letters();
    
    // ØªØ­Ù„ÙŠÙ„ ÙƒÙ„Ù…Ø© tree
    let tree_pattern = linguistic_intelligence::analyze_tree_example();
    
    print("ØªØ­Ù„ÙŠÙ„ ÙƒÙ„Ù…Ø© 'tree':");
    print("Ø§Ù„Ù…Ø¹Ù†Ù‰: " + tree_pattern.inferred_meaning);
    print("Ø§Ù„Ø«Ù‚Ø©: " + tree_pattern.confidence.to_string());
    print("Ø§Ù„ØªØ­Ù„ÙŠÙ„: " + tree_pattern.detailed_analysis);
}

fn test_statistics() {
    print("=== Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ===");
    
    let stats_count = linguistic_intelligence::get_analysis_statistics();
    print("Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø­Ù„Ù„Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…: " + stats_count.to_string());
}

fn main() {
    print("ğŸ§  Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù„ØºÙˆÙŠ ğŸ§ ");
    print("=====================================");
    
    // ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
    test_arabic_letter_analysis();
    print("");
    
    test_english_letter_setup();
    print("");
    
    test_comprehensive_analysis();
    print("");
    
    test_pattern_discovery();
    print("");
    
    test_adaptive_learning();
    print("");
    
    test_tree_example();
    print("");
    
    test_statistics();
    print("");
    
    // Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„
    print("=== Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø§Ù…Ù„ ===");
    linguistic_intelligence::main_linguistic_intelligence_test();
    
    print("=====================================");
    print("ğŸ‰ Ø§ÙƒØªÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù„ØºÙˆÙŠ! ğŸ‰");
}
