// ============================================================================
// 💬 وحدة توليد اللغة الطبيعية - NLG Module
// ============================================================================
// توليد الرسائل والاستجابات بناءً على النية واللغة

use types;

// ============================================================================
// 1. توليد الرسالة الرئيسية
// ============================================================================

fn generate_reply(language: string, intent: string, data: list<string>) -> string {
    if language == "ar" {
        return generate_reply_ar(intent, data);
    } else {
        return generate_reply_en(intent, data);
    }
}

// ============================================================================
// 2. توليد الرسائل بالعربية
// ============================================================================

fn generate_reply_ar(intent: string, data: list<string>) -> string {
    if intent == "run" {
        return "✅ تم تشغيل البرنامج بنجاح!";
    } else if intent == "compile" {
        return "✅ تم ترجمة الكود بنجاح!";
    } else if intent == "analyze" {
        return "✅ تم تحليل الكود بنجاح!";
    } else if intent == "suggest" {
        return "💡 إليك بعض الاقتراحات:";
    } else if intent == "error" {
        return "❌ حدث خطأ أثناء المعالجة";
    } else {
        return "👋 مرحباً! كيف يمكنني مساعدتك؟";
    }
}

// ============================================================================
// 3. توليد الرسائل بالإنجليزية
// ============================================================================

fn generate_reply_en(intent: string, data: list<string>) -> string {
    if intent == "run" {
        return "✅ Program executed successfully!";
    } else if intent == "compile" {
        return "✅ Code compiled successfully!";
    } else if intent == "analyze" {
        return "✅ Code analyzed successfully!";
    } else if intent == "suggest" {
        return "💡 Here are some suggestions:";
    } else if intent == "error" {
        return "❌ An error occurred during processing";
    } else {
        return "👋 Hello! How can I help you?";
    }
}

// ============================================================================
// 4. توليد رسالة الخطأ
// ============================================================================

fn generate_error_message(language: string, error: string) -> string {
    if language == "ar" {
        return "❌ خطأ: " + error;
    } else {
        return "❌ Error: " + error;
    }
}

// ============================================================================
// 5. توليد رسالة النجاح
// ============================================================================

fn generate_success_message(language: string, message: string) -> string {
    if language == "ar" {
        return "✅ " + message;
    } else {
        return "✅ " + message;
    }
}

// ============================================================================
// 6. توليد رسالة المعلومات
// ============================================================================

fn generate_info_message(language: string, info: string) -> string {
    if language == "ar" {
        return "ℹ️ " + info;
    } else {
        return "ℹ️ " + info;
    }
}

// ============================================================================
// 7. توليد رسالة التحذير
// ============================================================================

fn generate_warning_message(language: string, warning: string) -> string {
    if language == "ar" {
        return "⚠️ تحذير: " + warning;
    } else {
        return "⚠️ Warning: " + warning;
    }
}

// ============================================================================
// 8. توليد رسالة الاقتراح
// ============================================================================

fn generate_suggestion_message(language: string, suggestion: string) -> string {
    if language == "ar" {
        return "💡 اقتراح: " + suggestion;
    } else {
        return "💡 Suggestion: " + suggestion;
    }
}

// ============================================================================
// 9. توليد رسالة الترحيب
// ============================================================================

fn generate_welcome_message(language: string) -> string {
    if language == "ar" {
        return "👋 مرحباً بك في وكيل البيان الذكي!\nاكتب 'help' للمساعدة أو 'exit' للخروج.";
    } else {
        return "👋 Welcome to AlBayan Intelligent Agent!\nType 'help' for help or 'exit' to quit.";
    }
}

// ============================================================================
// 10. توليد رسالة المساعدة
// ============================================================================

fn generate_help_message(language: string) -> string {
    if language == "ar" {
        return "📚 الأوامر المتاحة:\n" +
               "  run <file>     - تشغيل ملف\n" +
               "  compile <file> - ترجمة ملف\n" +
               "  analyze <code> - تحليل كود\n" +
               "  suggest        - الحصول على اقتراحات\n" +
               "  help           - عرض هذه الرسالة\n" +
               "  exit           - الخروج";
    } else {
        return "📚 Available commands:\n" +
               "  run <file>     - Run a file\n" +
               "  compile <file> - Compile a file\n" +
               "  analyze <code> - Analyze code\n" +
               "  suggest        - Get suggestions\n" +
               "  help           - Show this message\n" +
               "  exit           - Exit";
    }
}

// ============================================================================
// نهاية وحدة NLG
// ============================================================================

