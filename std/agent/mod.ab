// ============================================================================
// ðŸ“¦ ÙˆØ­Ø¯Ø© Ø§Ù„ÙˆÙƒÙŠÙ„ - Agent Module
// ============================================================================
// ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ÙˆÙƒÙŠÙ„

pub use types;
pub use nlu;
pub use nlg;
pub use optimizer;
pub use bridge;
pub use core;
pub use llm_wrapper;
pub use llm_nlu;
pub use llm_nlg;
pub use learning_engine;

// ============================================================================
// Ø¥Ø¹Ø§Ø¯Ø© ØªØµØ¯ÙŠØ± Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
// ============================================================================

pub type Intent = types::Intent;
pub type Response = types::Response;
pub type Config = types::Config;
pub type Event = types::Event;
pub type BayanAgent = types::BayanAgent;
pub type BayanBridge = bridge::BayanBridge;

// ============================================================================
// Ø¥Ø¹Ø§Ø¯Ø© ØªØµØ¯ÙŠØ± Ø£Ù†ÙˆØ§Ø¹ LLM
// ============================================================================

pub type OllamaConfig = llm_wrapper::OllamaConfig;
pub type LLMResponse = llm_wrapper::LLMResponse;
pub type LLMCache = llm_wrapper::LLMCache;
pub type LLMMetrics = llm_wrapper::LLMMetrics;

pub type EnhancedIntent = llm_nlu::EnhancedIntent;
pub type NLUContext = llm_nlu::NLUContext;
pub type HybridNLUConfig = llm_nlu::HybridNLUConfig;
pub type NLUMetrics = llm_nlu::NLUMetrics;

pub type GeneratedResponse = llm_nlg::GeneratedResponse;
pub type ResponseTemplate = llm_nlg::ResponseTemplate;
pub type NLGConfig = llm_nlg::NLGConfig;
pub type NLGMetrics = llm_nlg::NLGMetrics;

pub type Interaction = learning_engine::Interaction;
pub type LearningPattern = learning_engine::LearningPattern;
pub type UserProfile = learning_engine::UserProfile;
pub type LearningMetrics = learning_engine::LearningMetrics;
pub type AdaptationStrategy = learning_engine::AdaptationStrategy;

// ============================================================================
// Ø¥Ø¹Ø§Ø¯Ø© ØªØµØ¯ÙŠØ± Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
// ============================================================================

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹
pub fn create_intent(intent: string, target: string, code: string, hint: string) -> Intent {
    return types::create_intent(intent, target, code, hint);
}

pub fn create_response(intent: string, text: string, ok: bool) -> Response {
    return types::create_response(intent, text, ok);
}

pub fn create_config(language: string, dry_run: bool) -> Config {
    return types::create_config(language, dry_run);
}

pub fn create_agent(config: Config) -> BayanAgent {
    return types::create_agent(config);
}

// Ø¯ÙˆØ§Ù„ NLU
pub fn parse_intent(text: string) -> Intent {
    return nlu::parse_intent(text);
}

pub fn extract_path(text: string) -> string {
    return nlu::extract_path(text);
}

pub fn extract_code(text: string) -> string {
    return nlu::extract_code(text);
}

// Ø¯ÙˆØ§Ù„ NLG
pub fn generate_reply(language: string, intent: string, data: list<string>) -> string {
    return nlg::generate_reply(language, intent, data);
}

pub fn generate_welcome_message(language: string) -> string {
    return nlg::generate_welcome_message(language);
}

pub fn generate_help_message(language: string) -> string {
    return nlg::generate_help_message(language);
}

// Ø¯ÙˆØ§Ù„ Optimizer
pub fn observe_event(agent: mut BayanAgent, event: Event) {
    optimizer::observe_event(agent, event);
}

pub fn propose_optimizations(agent: BayanAgent) -> list<string> {
    return optimizer::propose_optimizations(agent);
}

pub fn get_event_summary(agent: BayanAgent) -> string {
    return optimizer::get_event_summary(agent);
}

// Ø¯ÙˆØ§Ù„ Bridge
pub fn create_bridge(binary_path: string, working_dir: string) -> BayanBridge {
    return bridge::create_bridge(binary_path, working_dir);
}

pub fn compile_file(bridge: BayanBridge, file_path: string) -> Response {
    return bridge::compile_file(bridge, file_path);
}

pub fn run_file(bridge: BayanBridge, file_path: string) -> Response {
    return bridge::run_file(bridge, file_path);
}

pub fn analyze_code(bridge: BayanBridge, code: string) -> Response {
    return bridge::analyze_code(bridge, code);
}

// Ø¯ÙˆØ§Ù„ Core
pub fn process_input(agent: mut BayanAgent, input: string, bayan_bridge: BayanBridge) -> Response {
    return core::process_input(agent, input, bayan_bridge);
}

pub fn get_welcome_message(agent: BayanAgent) -> string {
    return core::get_welcome_message(agent);
}

pub fn get_goodbye_message(agent: BayanAgent) -> string {
    return core::get_goodbye_message(agent);
}

// ============================================================================
// Ø¯ÙˆØ§Ù„ LLM Wrapper
// ============================================================================

pub fn create_ollama_config(model_name: string, base_url: string, timeout: i32, max_tokens: i32) -> OllamaConfig {
    return llm_wrapper::create_ollama_config(model_name, base_url, timeout, max_tokens);
}

pub fn create_default_config() -> OllamaConfig {
    return llm_wrapper::create_default_config();
}

pub fn create_arabic_config() -> OllamaConfig {
    return llm_wrapper::create_arabic_config();
}

pub fn create_llm_cache(max_size: i32) -> LLMCache {
    return llm_wrapper::create_llm_cache(max_size);
}

pub fn create_llm_metrics() -> LLMMetrics {
    return llm_wrapper::create_llm_metrics();
}

// ============================================================================
// Ø¯ÙˆØ§Ù„ LLM NLU
// ============================================================================

pub fn create_hybrid_nlu_config() -> HybridNLUConfig {
    return llm_nlu::create_hybrid_nlu_config();
}

pub fn create_nlu_context(language: string, domain: string) -> NLUContext {
    return llm_nlu::create_nlu_context(language, domain);
}

pub fn parse_intent_hybrid(input: string, context: NLUContext, config: HybridNLUConfig) -> EnhancedIntent {
    return llm_nlu::parse_intent_hybrid(input, context, config);
}

// ============================================================================
// Ø¯ÙˆØ§Ù„ LLM NLG
// ============================================================================

pub fn create_nlg_config() -> NLGConfig {
    return llm_nlg::create_nlg_config();
}

pub fn generate_response_hybrid(intent: string, data: list<string>, context: string, language: string, config: NLGConfig) -> GeneratedResponse {
    return llm_nlg::generate_response_hybrid(intent, data, context, language, config);
}

pub fn create_nlg_metrics() -> NLGMetrics {
    return llm_nlg::create_nlg_metrics();
}

// ============================================================================
// Ø¯ÙˆØ§Ù„ Learning Engine
// ============================================================================

pub fn create_user_profile(user_id: string) -> UserProfile {
    return learning_engine::create_user_profile(user_id);
}

pub fn create_learning_metrics() -> LearningMetrics {
    return learning_engine::create_learning_metrics();
}

pub fn get_user_accuracy(profile: UserProfile) -> f32 {
    return learning_engine::get_user_accuracy(profile);
}

pub fn predict_next_intent(profile: UserProfile, recent_intents: list<string>) -> string {
    return learning_engine::predict_next_intent(profile, recent_intents);
}

// ============================================================================
// Ù†Ù‡Ø§ÙŠØ© ÙˆØ­Ø¯Ø© Ø§Ù„ÙˆÙƒÙŠÙ„
// ============================================================================
